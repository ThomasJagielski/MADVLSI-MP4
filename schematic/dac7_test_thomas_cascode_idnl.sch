v {xschem version=2.9.9 file_version=1.2 }
G {}
K {}
V {}
S {}
E {}
N -160 90 -150 90 { lab=s1}
N -150 90 -150 180 { lab=s1}
N -370 90 -360 90 { lab=s0}
N -360 90 -360 180 { lab=s0}
N -190 -200 -120 -200 { lab=Vb1}
N -280 -290 -90 -290 { lab=Vgt}
N 710 -290 770 -290 { lab=Vgt}
N 740 -200 800 -200 { lab=Vb6}
N -280 -290 -280 -230 { lab=Vgt}
N -380 -200 -310 -200 { lab=Vb0}
N -320 170 -220 170 { lab=Vbn}
N -220 170 -120 170 { lab=Vbn}
N -230 -90 -230 50 { lab=b1}
N -230 50 -200 50 { lab=b1}
N -500 -290 -280 -290 { lab=Vgt}
N -410 -90 -410 50 { lab=b0}
N -430 130 -430 170 { lab=Vbn}
N -220 130 -220 170 { lab=Vbn}
N -230 -90 -220 -90 { lab=b1}
N -380 -200 -380 -130 { lab=Vb0}
N -190 -200 -190 -130 { lab=Vb1}
N 800 -200 800 -130 { lab=Vb6}
N -430 170 -430 450 { lab=Vbn}
N -430 450 -370 450 { lab=Vbn}
N -370 410 -340 410 { lab=Vbd}
N 800 -250 800 -200 { lab=Vb6}
N -190 -250 -190 -200 { lab=Vb1}
N -380 -250 -380 -200 { lab=Vb0}
N -880 110 -880 170 { lab=GND}
N -720 110 -720 170 { lab=GND}
N -880 20 -880 50 { lab=#net1}
N -800 -50 -750 -50 { lab=#net1}
N -800 -50 -800 20 { lab=#net1}
N -880 20 -800 20 { lab=#net1}
N -850 -50 -800 -50 { lab=#net1}
N -880 -20 -880 20 { lab=#net1}
N -720 -20 -720 50 { lab=Vgt}
N -250 -200 -190 -200 { lab=Vb1}
N 50 90 60 90 { lab=s2}
N 60 90 60 180 { lab=s2}
N 40 -200 110 -200 { lab=Vb2}
N -10 170 180 170 { lab=Vbn}
N 10 -90 10 50 { lab=b2}
N -10 130 -10 170 { lab=Vbn}
N 40 -200 40 -130 { lab=Vb2}
N 40 -250 40 -200 { lab=Vb2}
N -20 -200 40 -200 { lab=Vb2}
N 240 90 250 90 { lab=s3}
N 250 90 250 180 { lab=s3}
N 230 -200 300 -200 { lab=Vb3}
N 140 -290 330 -290 { lab=Vgt}
N 140 -290 140 -230 { lab=Vgt}
N 180 170 370 170 { lab=Vbn}
N 200 -90 200 50 { lab=b3}
N 180 130 180 170 { lab=Vbn}
N 230 -200 230 -130 { lab=Vb3}
N 230 -250 230 -200 { lab=Vb3}
N 170 -200 230 -200 { lab=Vb3}
N 430 90 440 90 { lab=s4}
N 440 90 440 180 { lab=s4}
N 420 -200 490 -200 { lab=Vb4}
N 330 -290 520 -290 { lab=Vgt}
N 330 -290 330 -230 { lab=Vgt}
N 370 170 560 170 { lab=Vbn}
N 390 -90 390 50 { lab=b4}
N 370 130 370 170 { lab=Vbn}
N 420 -200 420 -130 { lab=Vb4}
N 420 -250 420 -200 { lab=Vb4}
N 360 -200 420 -200 { lab=Vb4}
N 620 90 630 90 { lab=s5}
N 630 90 630 180 { lab=s5}
N 610 -200 680 -200 { lab=Vb5}
N 520 -290 710 -290 { lab=Vgt}
N 520 -290 520 -230 { lab=Vgt}
N 560 170 750 170 { lab=Vbn}
N 580 -90 580 50 { lab=b5}
N 560 130 560 170 { lab=Vbn}
N 610 -200 610 -130 { lab=Vb5}
N 610 -250 610 -200 { lab=Vb5}
N 550 -200 610 -200 { lab=Vb5}
N 710 -290 710 -230 { lab=Vgt}
N -90 -290 -40 -290 { lab=Vgt}
N -40 -290 10 -290 { lab=Vgt}
N 10 -290 140 -290 { lab=Vgt}
N -90 -290 -90 -230 { lab=Vgt}
N -60 -200 -20 -200 { lab=Vb2}
N -120 170 -10 170 { lab=Vbn}
N 770 -90 770 50 { lab=b6}
N 750 130 750 170 { lab=Vbn}
N 810 90 820 90 { lab=s6}
N 820 90 820 180 { lab=s6}
N -430 170 -320 170 { lab=Vbn}
N 800 -390 800 -330 { lab=Vdr6}
N 610 -380 610 -320 { lab=VDD}
N 230 -380 230 -320 { lab=VDD}
N 420 -380 420 -320 { lab=VDD}
N 40 -380 40 -320 { lab=VDD}
N -190 -380 -190 -320 { lab=VDD}
N -380 -380 -380 -320 { lab=VDD}
N -340 290 -340 350 { lab=VDD}
N -860 480 -860 540 { lab=GND}
N -700 480 -700 540 { lab=GND}
N -860 390 -860 420 { lab=#net2}
N -700 370 -700 420 { lab=Vbp}
N -780 320 -730 320 { lab=#net2}
N -780 320 -780 390 { lab=#net2}
N -860 390 -780 390 { lab=#net2}
N -700 370 -640 370 { lab=Vbp}
N -640 320 -640 370 { lab=Vbp}
N -920 370 -700 370 { lab=Vbp}
N -920 320 -920 370 { lab=Vbp}
N -960 320 -920 320 { lab=Vbp}
N -990 390 -990 420 { lab=#net3}
N -920 450 -890 450 { lab=#net3}
N -990 390 -920 390 { lab=#net3}
N -920 390 -920 450 { lab=#net3}
N -570 390 -570 420 { lab=Vbn}
N -830 320 -780 320 { lab=#net2}
N -860 350 -860 390 { lab=#net2}
N -700 350 -700 370 { lab=Vbp}
N -990 350 -990 390 { lab=#net3}
N -960 450 -920 450 { lab=#net3}
N -630 390 -570 390 { lab=Vbn}
N -570 350 -570 390 { lab=Vbn}
N -630 390 -630 450 { lab=Vbn}
N -670 450 -630 450 { lab=Vbn}
N -990 480 -990 540 { lab=#net4}
N -630 450 -600 450 { lab=Vbn}
N -600 450 -490 450 { lab=Vbn}
N -640 320 -600 320 { lab=Vbp}
N -600 320 -490 320 { lab=Vbp}
N -570 510 -570 540 { lab=GND}
N -570 480 -570 500 { lab=#net5}
N -490 450 -430 450 { lab=Vbn}
N 830 -420 840 -420 { lab=Vdr6}
N 840 -420 840 -380 { lab=Vdr6}
N 800 -380 840 -380 { lab=Vdr6}
N 1130 -280 1160 -280 { lab=#net6}
N 1160 -310 1160 -280 { lab=#net6}
N 1160 -310 1210 -310 { lab=#net6}
N 1130 -390 1130 -340 { lab=#net7}
N 830 -420 1100 -420 { lab=Vdr6}
N 1000 -390 1000 -340 { lab=#net8}
N 1000 -280 1000 -240 { lab=#net6}
N 1000 -260 1130 -260 { lab=#net6}
N 1130 -280 1130 -260 { lab=#net6}
N 960 -210 970 -210 { lab=#net8}
N 960 -310 960 -210 { lab=#net8}
N 960 -310 970 -310 { lab=#net8}
N 960 -340 960 -310 { lab=#net8}
N 960 -340 1000 -340 { lab=#net8}
N 1240 -370 1240 -350 {}
C {/home/madvlsi/Documents/MADVLSI-MP4/schematic/mux2.sym} -410 90 3 0 {name=X2}
C {/home/madvlsi/Documents/MADVLSI-MP4/schematic/mux2.sym} -200 90 3 0 {name=X3}
C {madvlsi/gnd.sym} -390 130 0 0 {name=l1 lab=GND}
C {madvlsi/gnd.sym} -180 130 0 0 {name=l2 lab=GND}
C {madvlsi/vsource.sym} -570 180 0 0 {name=Vdd
value=1.8}
C {madvlsi/vdd.sym} -570 150 0 0 {name=l9 lab=VDD}
C {madvlsi/gnd.sym} -570 210 0 0 {name=l10 lab=GND}
C {madvlsi/vsource.sym} -360 210 0 0 {name=Vb0
value="pwl 1n 0 2u 1.8 32u 1.8 33u 0 100u 0 "}
C {madvlsi/gnd.sym} -360 240 0 0 {name=l11 lab=GND}
C {madvlsi/vsource.sym} -150 210 0 0 {name=Vb1
value="pwl 32u 0 33u 1.8 63u 1.8 64u 0 100u 0"}
C {madvlsi/gnd.sym} -150 240 0 0 {name=l12 lab=GND}
C {madvlsi/vsource.sym} 60 210 0 0 {name=Vb2
value="pwl 63u 0 64u 1.8 94u 1.8 95u 0 100u 0"}
C {madvlsi/nmos3.sym} -380 -290 0 0 {name=M9
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} -280 -200 1 0 {name=M10
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} -190 -290 0 0 {name=M11
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} -90 -200 1 0 {name=M12
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} 800 -290 0 0 {name=M13
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} -380 -90 0 0 {name=M18
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} -190 -90 0 0 {name=M19
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} 800 -90 0 0 {name=M20
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/gnd.sym} -380 -60 0 0 {name=l18 lab=GND}
C {madvlsi/gnd.sym} -190 -60 0 0 {name=l19 lab=GND}
C {madvlsi/gnd.sym} 800 -60 0 0 {name=l20 lab=GND}
C {madvlsi/vdd.sym} -190 -380 0 0 {name=l6 lab=VDD}
C {madvlsi/vdd.sym} -380 -380 0 0 {name=l7 lab=VDD}
C {madvlsi/tt_models.sym} -600 -40 0 0 {
name=TT_MODELS
only_toplevel=false
value=".option wnflag=1
.param MC_SWITCH=1.0
.lib ~/skywater/skywater-pdk/libraries/sky130_fd_pr_ngspice/latest/models/sky130.lib.spice tt"
}
C {madvlsi/ammeter1.sym} 800 -330 0 0 {name=Vmeas}
C {devices/lab_pin.sym} -410 50 2 0 {name=l14 sig_type=std_logic lab=b0}
C {devices/lab_pin.sym} -230 10 2 0 {name=l15 sig_type=std_logic lab=b1}
C {devices/lab_pin.sym} -430 170 0 0 {name=l17 sig_type=std_logic lab=Vbn}
C {devices/lab_pin.sym} -360 90 1 0 {name=l21 sig_type=std_logic lab=s0}
C {devices/lab_pin.sym} -150 90 1 0 {name=l22 sig_type=std_logic lab=s1}
C {madvlsi/ammeter1.sym} -380 -130 0 0 {name=VIb0}
C {madvlsi/ammeter1.sym} -190 -130 0 0 {name=VIb1}
C {madvlsi/ammeter1.sym} 40 -130 0 0 {name=VIb2}
C {madvlsi/nmos3.sym} -340 450 0 0 {name=M1
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/ammeter1.sym} -340 410 0 0 {name=VIbd}
C {madvlsi/gnd.sym} -340 480 0 0 {name=l25 lab=GND}
C {madvlsi/vdd.sym} -340 290 0 0 {name=l26 lab=VDD}
C {devices/lab_pin.sym} -490 320 1 0 {name=l4 sig_type=std_logic lab=Vbp}
C {devices/lab_pin.sym} 800 -330 0 0 {name=l39 sig_type=std_logic lab=Vdr6}
C {devices/lab_pin.sym} -380 -180 2 0 {name=l57 sig_type=std_logic lab=Vb0}
C {devices/lab_pin.sym} -190 -180 2 0 {name=l58 sig_type=std_logic lab=Vb1}
C {devices/lab_pin.sym} 800 -180 2 0 {name=l59 sig_type=std_logic lab=Vb6}
C {madvlsi/ammeter1.sym} 420 -130 0 0 {name=VIb4}
C {madvlsi/ammeter1.sym} 610 -130 0 0 {name=VIb5}
C {madvlsi/ammeter1.sym} 800 -130 0 0 {name=VIb6}
C {devices/lab_pin.sym} -370 410 0 0 {name=l63 sig_type=std_logic lab=Vbd}
C {madvlsi/nmos3.sym} -340 380 0 0 {name=M2
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=3
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {devices/lab_pin.sym} -370 380 0 0 {name=l64 sig_type=std_logic lab=Vgt}
C {madvlsi/pmos3.sym} -880 -50 0 1 {name=M21
L=\{Lt\}
W=\{Wt\}
body=VDD
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {madvlsi/pmos3.sym} -720 -50 0 0 {name=M58
L=\{Lt\}
W=\{Wt\}
body=VDD
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} -880 80 0 0 {name=M59
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} -720 80 0 1 {name=M60
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/vdd.sym} -880 -80 0 0 {name=l65 lab=VDD}
C {madvlsi/vdd.sym} -720 -80 0 0 {name=l66 lab=VDD}
C {madvlsi/gnd.sym} -880 170 0 0 {name=l67 lab=GND}
C {madvlsi/gnd.sym} -720 170 0 0 {name=l68 lab=GND}
C {devices/lab_pin.sym} -690 80 2 0 {name=l69 sig_type=std_logic lab=Vbd}
C {devices/lab_pin.sym} -910 80 0 0 {name=l70 sig_type=std_logic lab=Vbn}
C {devices/lab_pin.sym} -720 20 2 0 {name=l71 sig_type=std_logic lab=Vgt}
C {devices/lab_pin.sym} -500 -290 0 0 {name=l72 sig_type=std_logic lab=Vgt}
C {madvlsi/resistor.sym} -990 580 0 0 {name=R1
value=100k
m=1}
C {madvlsi/gnd.sym} -990 610 0 0 {name=l8 lab=GND}
C {madvlsi/ammeter1.sym} -990 540 0 1 {name=Vbias}
C {/home/madvlsi/Documents/MADVLSI-MP4/schematic/mux2.sym} 10 90 3 0 {name=X5}
C {madvlsi/gnd.sym} 30 130 0 0 {name=l42 lab=GND}
C {madvlsi/vsource.sym} 250 210 0 0 {name=Vb3
value="pwl 93u 0 94u 1.8 124u 1.8 125u 0 200u 0"}
C {madvlsi/gnd.sym} 60 240 0 0 {name=l44 lab=GND}
C {madvlsi/nmos3.sym} 40 -290 0 0 {name=M8
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} 140 -200 1 0 {name=M14
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} 40 -90 0 0 {name=M40
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/gnd.sym} 40 -60 0 0 {name=l48 lab=GND}
C {madvlsi/vdd.sym} 40 -380 0 0 {name=l52 lab=VDD}
C {devices/lab_pin.sym} 10 50 2 0 {name=l54 sig_type=std_logic lab=b2}
C {devices/lab_pin.sym} 60 90 2 0 {name=l55 sig_type=std_logic lab=s2}
C {madvlsi/ammeter1.sym} 800 -260 0 0 {name=VIb7}
C {devices/lab_pin.sym} 40 -180 2 0 {name=l60 sig_type=std_logic lab=Vb2}
C {madvlsi/ammeter1.sym} 40 -260 0 0 {name=VIb8}
C {/home/madvlsi/Documents/MADVLSI-MP4/schematic/mux2.sym} 200 90 3 0 {name=X6}
C {madvlsi/gnd.sym} 220 130 0 0 {name=l62 lab=GND}
C {madvlsi/vsource.sym} 440 210 0 0 {name=Vb4
value="pwl 123u 0 124u 1.8 154u 1.8 155u 0 200u 0"}
C {madvlsi/gnd.sym} 250 240 0 0 {name=l77 lab=GND}
C {madvlsi/nmos3.sym} 230 -290 0 0 {name=M23
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} 330 -200 1 0 {name=M28
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} 230 -90 0 0 {name=M44
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/gnd.sym} 230 -60 0 0 {name=l82 lab=GND}
C {madvlsi/vdd.sym} 230 -380 0 0 {name=l83 lab=VDD}
C {devices/lab_pin.sym} 200 50 2 0 {name=l84 sig_type=std_logic lab=b3}
C {devices/lab_pin.sym} 250 90 2 0 {name=l85 sig_type=std_logic lab=s3}
C {madvlsi/ammeter1.sym} 230 -130 0 0 {name=VIb3}
C {devices/lab_pin.sym} 230 -180 2 0 {name=l86 sig_type=std_logic lab=Vb3}
C {madvlsi/ammeter1.sym} 230 -260 0 0 {name=VIb10}
C {/home/madvlsi/Documents/MADVLSI-MP4/schematic/mux2.sym} 390 90 3 0 {name=X7}
C {madvlsi/gnd.sym} 410 130 0 0 {name=l88 lab=GND}
C {madvlsi/vsource.sym} 630 210 0 0 {name=Vb5
value="pwl 153u 0 154u 1.8 184u 1.8 185u 0 220u 0"}
C {madvlsi/gnd.sym} 440 240 0 0 {name=l89 lab=GND}
C {madvlsi/nmos3.sym} 420 -290 0 0 {name=M46
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} 520 -200 1 0 {name=M47
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} 420 -90 0 0 {name=M48
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/gnd.sym} 420 -60 0 0 {name=l90 lab=GND}
C {madvlsi/vdd.sym} 420 -380 0 0 {name=l91 lab=VDD}
C {devices/lab_pin.sym} 390 50 2 0 {name=l92 sig_type=std_logic lab=b4}
C {devices/lab_pin.sym} 440 90 2 0 {name=l93 sig_type=std_logic lab=s4}
C {madvlsi/ammeter1.sym} -380 -260 0 0 {name=VIb9}
C {devices/lab_pin.sym} 420 -180 2 0 {name=l94 sig_type=std_logic lab=Vb4}
C {madvlsi/ammeter1.sym} 420 -260 0 0 {name=VIb12}
C {/home/madvlsi/Documents/MADVLSI-MP4/schematic/mux2.sym} 580 90 3 0 {name=X8}
C {madvlsi/gnd.sym} 600 130 0 0 {name=l96 lab=GND}
C {madvlsi/gnd.sym} 630 240 0 0 {name=l97 lab=GND}
C {madvlsi/nmos3.sym} 610 -290 0 0 {name=M50
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} 710 -200 1 0 {name=M51
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} 610 -90 0 0 {name=M52
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/gnd.sym} 610 -60 0 0 {name=l98 lab=GND}
C {madvlsi/vdd.sym} 610 -380 0 0 {name=l99 lab=VDD}
C {devices/lab_pin.sym} 580 50 2 0 {name=l100 sig_type=std_logic lab=b5}
C {devices/lab_pin.sym} 630 90 2 0 {name=l101 sig_type=std_logic lab=s5}
C {madvlsi/ammeter1.sym} -190 -260 0 0 {name=VIb11}
C {devices/lab_pin.sym} 610 -180 2 0 {name=l102 sig_type=std_logic lab=Vb5}
C {madvlsi/ammeter1.sym} 610 -260 0 0 {name=VIb14}
C {madvlsi/vsource.sym} 820 210 0 0 {name=Vb6
value="pwl 183u 0 184u 1.8 214u 1.8 215u 0 250u 0"}
C {/home/madvlsi/Documents/MADVLSI-MP4/schematic/mux2.sym} 770 90 3 0 {name=X4}
C {madvlsi/gnd.sym} 790 130 0 0 {name=l3 lab=GND}
C {devices/lab_pin.sym} 770 50 2 0 {name=l13 sig_type=std_logic lab=b6}
C {devices/lab_pin.sym} 820 90 2 0 {name=l16 sig_type=std_logic lab=s6}
C {madvlsi/gnd.sym} 820 240 0 0 {name=l23 lab=GND}
C {madvlsi/pmos3.sym} -990 320 0 1 {name=M30
L=\{Lt\}
W=\{Wt\}
body=VDD
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {madvlsi/pmos3.sym} -860 320 0 1 {name=M31
L=\{Lt\}
W=\{Wt\}
body=VDD
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {madvlsi/pmos3.sym} -700 320 0 0 {name=M34
L=\{Lt\}
W=\{Wt\}
body=VDD
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {madvlsi/pmos3.sym} -570 320 0 0 {name=M35
L=\{Lt\}
W=\{Wt\}
body=VDD
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} -990 450 0 1 {name=M55
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=8
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} -860 450 0 0 {name=M56
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} -700 450 0 1 {name=M57
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} -570 450 0 0 {name=M61
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/vdd.sym} -990 290 0 0 {name=l36 lab=VDD}
C {madvlsi/vdd.sym} -860 290 0 0 {name=l41 lab=VDD}
C {madvlsi/vdd.sym} -700 290 0 0 {name=l45 lab=VDD}
C {madvlsi/vdd.sym} -570 290 0 0 {name=l46 lab=VDD}
C {madvlsi/gnd.sym} -860 540 0 0 {name=l61 lab=GND}
C {madvlsi/gnd.sym} -700 540 0 0 {name=l74 lab=GND}
C {madvlsi/gnd.sym} -570 540 0 0 {name=l75 lab=GND}
C {madvlsi/ammeter1.sym} -570 500 0 0 {name=Vibias}
C {devices/code.sym} 990 -40 0 0 {name=SPICE only_toplevel=false value=".param Wt = 20
.param Lt = 4
.control
*** change W and L for the next two lines as well !***
  let myW = 20
  let myL = 4
  set wr_singlescale
  let runs = 10
  let run = 1
  while run <= runs
    set appendwrite = FALSE
    set wr_vecnames
    let code = 0
    while code < 64
      if code eq 0
        let b0 = 0
      else
        let b0 = (code % 2) * 1.8
      end
      if floor(code / 2) eq 0
        let b1 = 0
      else
        let b1 = (floor(code / 2) % 2) * 1.8
      end
      if floor(code / 4) eq 0
        let b2 = 0
      else
        let b2 = (floor(code / 4) % 2) * 1.8
      end
      if floor(code / 8) eq 0
        let b3 = 0
      else
        let b3 = floor(code / 8) % 2 * 1.8
      end
      if floor(code / 16) eq 0
        let b4 = 0
      else 
        let b4 = floor(code / 16) % 2 * 1.8
      end
      if floor(code / 32) eq 0
        let b5 = 0
      else
        let b5 = floor(code / 32) % 2 * 1.8
      end
      if floor(code / 64) eq 0
        let b6 = 0
      else
        let b6 = floor(code / 64) % 2 * 1.8
      end
      alter vb0 $&b0
      alter vb1 $&b1
      alter vb2 $&b2
      alter vb3 $&b3
      alter vb4 $&b4
      alter vb5 $&b5
      alter vb6 $&b6
      save v(b0) v(b1) v(b2) v(b3) v(b4) v(b5) v(b6) i(vbias) i(viout) v(vout)
      op
      wrdata ~/Documents/MADVLSI-MP4/schematic/data/dac7mc_L\{$&myL\}W\{$&myW\}op-\{$&run\}.txt v(b0) v(b1) v(b2) v(b3) v(b4) v(b5) v(b6) i(vbias) i(viout) v(vout)
      if code eq 0
        set appendwrite
        set wr_vecnames = FALSE
      end
      let code = code + 1
    end
    reset
    let run = run + 1
  end

  set appendwrite = FALSE
  reset
  set wr_singlescale
  set wr_vecnames
  alter vb0 1.8
  alter vb1 1.8
  alter vb2 1.8
  alter vb3 1.8
  alter vb4 1.8
  alter vb5 1.8
  alter vb6 1.8
  save v(b0) v(b1) v(b2) v(b3) v(b4) v(b5) v(b6) i(vbias) i(viout) v(vout)
  dc Voutt 0 1.8 0.01
  run
  wrdata ~/Documents/MADVLSI-MP4/schematic/data/dac7mc_L\{$&myL\}W\{$&myW\}vout-1.txt v(b0) v(b1) v(b2) v(b3) v(b4) v(b5) v(b6) i(vbias) i(viout) v(vout)

  reset
  set wr_singlescale
  set wr_vecnames
  alter vb0 1.8
  alter vb1 1.8
  alter vb2 1.8
  alter vb3 1.8
  alter vb4 1.8
  alter vb5 1.8
  alter vb6 0
  save v(b0) v(b1) v(b2) v(b3) v(b4) v(b5) v(b6) i(vbias) i(viout) v(vout)
  dc Voutt 0 1.8 0.01
  run
  wrdata ~/Documents/MADVLSI-MP4/schematic/data/dac7mc_L\{$&myL\}W\{$&myW\}vout-2.txt v(b0) v(b1) v(b2) v(b3) v(b4) v(b5) v(b6) i(vbias) i(viout) v(vout)

  reset
  set wr_singlescale
  set wr_vecnames
  alter vb0 1.8
  alter vb1 1.8
  alter vb2 1.8
  alter vb3 1.8
  alter vb4 1.8
  alter vb5 1.8
  alter vb6 1.8
  save v(b0) v(b1) v(b2) v(b3) v(b4) v(b5) v(b6) i(vbias) i(viout) v(vout)
  dc Vdd 0 1.8 0.01
  run
  wrdata ~/Documents/MADVLSI-MP4/schematic/data/dac7mc_L\{$&myL\}W\{$&myW\}vdd-1.txt v(b0) v(b1) v(b2) v(b3) v(b4) v(b5) v(b6) i(vbias) i(viout) v(vout)

  reset
  set wr_singlescale
  set wr_vecnames
  alter vb0 1.8
  alter vb1 1.8
  alter vb2 1.8
  alter vb3 1.8
  alter vb4 1.8
  alter vb5 1.8
  alter vb6 0
  save v(b0) v(b1) v(b2) v(b3) v(b4) v(b5) v(b6) i(vbias) i(viout) v(vout)
  dc Vdd 0 1.8 0.01
  run
  wrdata ~/Documents/MADVLSI-MP4/schematic/data/dac7mc_L\{$&myL\}W\{$&myW\}vdd-2.txt v(b0) v(b1) v(b2) v(b3) v(b4) v(b5) v(b6) i(vbias) i(viout) v(vout)
.endc"}
C {madvlsi/pmos3.sym} 800 -420 2 0 {name=M3
L=\{Lt\}
W=\{Wt\}
body=VDD
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {madvlsi/vdd.sym} 800 -450 0 0 {name=l5 lab=VDD}
C {madvlsi/pmos3.sym} 1000 -420 2 0 {name=M4
L=\{Lt\}
W=\{Wt\}
body=VDD
nf=1
mult=0.5
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {madvlsi/pmos3.sym} 1130 -420 0 0 {name=M5
L=\{Lt\}
W=\{Wt\}
body=VDD
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} 1000 -310 0 0 {name=M6
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} 1000 -210 0 0 {name=M7
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/nmos3.sym} 1130 -310 2 0 {name=M15
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/gnd.sym} 1000 -180 0 0 {name=l24 lab=GND}
C {madvlsi/vdd.sym} 1000 -450 0 0 {name=l27 lab=VDD}
C {madvlsi/vdd.sym} 1130 -450 0 0 {name=l28 lab=VDD}
C {madvlsi/nmos3.sym} 1240 -310 0 0 {name=M16
L=\{Lt\}
W=\{Wt\}
body=GND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {madvlsi/gnd.sym} 1240 -280 0 0 {name=l29 lab=GND}
C {madvlsi/vsource.sym} 1240 -400 2 0 {name=Vb7
value=1}
C {madvlsi/gnd.sym} 1240 -430 2 0 {name=l30 lab=GND}
C {madvlsi/ammeter1.sym} 1240 -350 0 0 {name=viout}
C {devices/lab_pin.sym} 1240 -370 2 0 {name=l31 sig_type=std_logic lab=Vout
}
